% Last updated: 2019-03-04

% Tikz
\newlength{\hdist}
\setlength{\hdist}{1.5cm} % Horizontal node distance
\newlength{\vdist}
\setlength{\vdist}{2\hdist} % Vertical node distance
\newlength{\sumdist}
\setlength{\sumdist}{\hdist} % Placement of sum module
\newlength{\blockh}
\setlength{\blockh}{0.75\hdist} % Minimum block height
\newlength{\blockw}
\setlength{\blockw}{1.5\blockh} % Minimum block width
\newlength{\moduleh}
\setlength{\moduleh}{\blockh} % Other module height
\newlength{\linew}
\setlength{\linew}{0.05\hdist} % Line width
\newlength{\dashw}
\setlength{\dashw}{0.5\linew} % Line width
\newlength{\longhdist}
\setlength{\longhdist}{1.75\hdist}

% Sugar size
\newlength{\glyr}
\setlength{\glyr}{1.25cm}

% Global tikz settings
\tikzset{
	block/.style = {draw, thick, rectangle, minimum height=\blockh, minimum width=\blockw,my-dark-fill,text=white,node distance=\longhdist},
  	gain/.style = {draw, thick, isosceles triangle, minimum height=\moduleh, my-red-fill,
   		isosceles triangle apex angle=60},
    port/.style = {inner sep=0pt, font=\small,text=black},
    sum/.style n args = {4}{draw, thick, circle, node distance=\sumdist, minimum size=\moduleh, alias=sum,
    my-green-fill,node distance=\longhdist,
    	append after command={
			node at (sum.north) [port, below=1pt] {$#1$}
         	node at (sum.west) [port, right=1pt] {$#2$}
          	node at (sum.south) [port, above=1pt] {$#3$}
          	node at (sum.east) [port, left=1pt] {$#4$}
        },
    },
    point/.style = {draw, thick, circle, node distance=\longhdist,minimum width=\moduleh,text=white,my-dark-fill},
  }
\tikzstyle{every picture}=[auto, node distance=\vdist and \hdist,>=latex,ultra thick,line width = \linew,text=black]